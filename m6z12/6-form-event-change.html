<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <p>Selected option text: <span class="text-output">none</span></p>

    <p>Selected option value: <span class="value-output">none</span></p>

    <form>
      <select class="pizza-select">
        <option value="four_meats">Four Meats</option>
        <option value="royal_cheese">Royal Cheese</option>
        <option value="vegetarian" selected>Vegetarian</option>
        <option value="smoked_salmon">Smoked Salmon</option>
      </select>
    </form>

    <script>
      const select = document.querySelector('.pizza-select');
      const textOutput = document.querySelector('.text-output');
      const valueOutput = document.querySelector('.value-output');

      select.addEventListener('change', (e) => {
        // console.log(e.currentTarget);
        const value = e.currentTarget.value;
        valueOutput.textContent = value;

        const selectedOptionIndex = e.currentTarget.selectedIndex;
        const selectedOptionText =
          e.currentTarget.options[selectedOptionIndex].text;
        textOutput.textContent = selectedOptionText;
      });

      select.dispatchEvent(new Event('change')); // synthetic event
    </script>
  </body>
</html>
